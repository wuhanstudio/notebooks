<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Interpretable ML - Linear Regression | fastpages</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Interpretable ML - Linear Regression" />
<meta name="author" content="Han Wu" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Demo for Interpretable ML - Linear Regression" />
<meta property="og:description" content="Demo for Interpretable ML - Linear Regression" />
<link rel="canonical" href="https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html" />
<meta property="og:url" content="https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-27T00:00:00-05:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Han Wu"},"description":"Demo for Interpretable ML - Linear Regression","@type":"BlogPosting","headline":"Interpretable ML - Linear Regression","dateModified":"2020-05-27T00:00:00-05:00","datePublished":"2020-05-27T00:00:00-05:00","url":"https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/notebooks/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://wuhanstudio.github.io/notebooks/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/notebooks/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Interpretable ML - Linear Regression | fastpages</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Interpretable ML - Linear Regression" />
<meta name="author" content="Han Wu" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Demo for Interpretable ML - Linear Regression" />
<meta property="og:description" content="Demo for Interpretable ML - Linear Regression" />
<link rel="canonical" href="https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html" />
<meta property="og:url" content="https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-27T00:00:00-05:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Han Wu"},"description":"Demo for Interpretable ML - Linear Regression","@type":"BlogPosting","headline":"Interpretable ML - Linear Regression","dateModified":"2020-05-27T00:00:00-05:00","datePublished":"2020-05-27T00:00:00-05:00","url":"https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://wuhanstudio.github.io/notebooks/jupyter/2020/05/27/iml-lr.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://wuhanstudio.github.io/notebooks/feed.xml" title="fastpages" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/notebooks/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/notebooks/about/">About Me</a><a class="page-link" href="/notebooks/search/">Search</a><a class="page-link" href="/notebooks/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Interpretable ML - Linear Regression</h1><p class="page-description">Demo for Interpretable ML - Linear Regression</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-05-27T00:00:00-05:00" itemprop="datePublished">
        May 27, 2020
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Han Wu</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/notebooks/categories/#jupyter">jupyter</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/wuhanstudio/notebooks/tree/master/_notebooks/2020-05-27-iml-lr.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/notebooks/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/wuhanstudio/notebooks/master?filepath=_notebooks%2F2020-05-27-iml-lr.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notebooks/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/wuhanstudio/notebooks/blob/master/_notebooks/2020-05-27-iml-lr.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notebooks/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#Read-Dataset">Read Dataset </a></li>
<li class="toc-entry toc-h1"><a href="#Feature-Engineering">Feature Engineering </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Numerical-Features">Numerical Features </a></li>
<li class="toc-entry toc-h3"><a href="#Datetime">Datetime </a></li>
<li class="toc-entry toc-h3"><a href="#Categorical-Features">Categorical Features </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Train-test-split">Train test split </a></li>
<li class="toc-entry toc-h1"><a href="#Training">Training </a></li>
<li class="toc-entry toc-h1"><a href="#Metrics">Metrics </a></li>
<li class="toc-entry toc-h1"><a href="#Plot">Plot </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-05-27-iml-lr.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">suppress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Read-Dataset">
<a class="anchor" href="#Read-Dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Read Dataset<a class="anchor-link" href="#Read-Dataset"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"dataset/bike/day.csv"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>instant</th>
      <th>dteday</th>
      <th>season</th>
      <th>yr</th>
      <th>mnth</th>
      <th>holiday</th>
      <th>weekday</th>
      <th>workingday</th>
      <th>weathersit</th>
      <th>temp</th>
      <th>atemp</th>
      <th>hum</th>
      <th>windspeed</th>
      <th>casual</th>
      <th>registered</th>
      <th>cnt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2011-01-01</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>6</td>
      <td>0</td>
      <td>2</td>
      <td>0.344167</td>
      <td>0.363625</td>
      <td>0.805833</td>
      <td>0.160446</td>
      <td>331</td>
      <td>654</td>
      <td>985</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2011-01-02</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0.363478</td>
      <td>0.353739</td>
      <td>0.696087</td>
      <td>0.248539</td>
      <td>131</td>
      <td>670</td>
      <td>801</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>2011-01-03</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0.196364</td>
      <td>0.189405</td>
      <td>0.437273</td>
      <td>0.248309</td>
      <td>120</td>
      <td>1229</td>
      <td>1349</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>2011-01-04</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0.200000</td>
      <td>0.212122</td>
      <td>0.590435</td>
      <td>0.160296</td>
      <td>108</td>
      <td>1454</td>
      <td>1562</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>2011-01-05</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>0.226957</td>
      <td>0.229270</td>
      <td>0.436957</td>
      <td>0.186900</td>
      <td>82</td>
      <td>1518</td>
      <td>1600</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Feature-Engineering">
<a class="anchor" href="#Feature-Engineering" aria-hidden="true"><span class="octicon octicon-link"></span></a>Feature Engineering<a class="anchor-link" href="#Feature-Engineering"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Numerical-Features">
<a class="anchor" href="#Numerical-Features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Numerical Features<a class="anchor-link" href="#Numerical-Features"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span><span class="o">.</span><span class="n">temp</span> <span class="o">=</span> <span class="n">bike_day</span><span class="o">.</span><span class="n">temp</span> <span class="o">*</span> <span class="p">(</span><span class="mi">39</span> <span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">atemp</span> <span class="o">=</span> <span class="n">bike_day</span><span class="o">.</span><span class="n">atemp</span> <span class="o">*</span> <span class="p">(</span><span class="mi">50</span> <span class="o">-</span> <span class="p">(</span><span class="mi">16</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">windspeed</span> <span class="o">=</span> <span class="n">bike_day</span><span class="o">.</span><span class="n">windspeed</span> <span class="o">*</span> <span class="mi">67</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">hum</span> <span class="o">=</span> <span class="n">bike_day</span><span class="o">.</span><span class="n">hum</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Datetime">
<a class="anchor" href="#Datetime" aria-hidden="true"><span class="octicon octicon-link"></span></a>Datetime<a class="anchor-link" href="#Datetime"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_start_day</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">'2011-01-01'</span><span class="p">)</span>
<span class="n">bike_day</span><span class="p">[</span><span class="s1">'dteday'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">bike_day</span><span class="p">[</span><span class="s1">'dteday'</span><span class="p">])</span>
<span class="n">bike_day</span><span class="p">[</span><span class="s1">'days_since_2011'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">bike_day</span><span class="o">.</span><span class="n">dteday</span> <span class="o">-</span> <span class="n">bike_start_day</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">selected_features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"temp"</span><span class="p">,</span> <span class="s2">"atemp"</span><span class="p">,</span> <span class="s2">"hum"</span><span class="p">,</span> <span class="s2">"windspeed"</span><span class="p">,</span> <span class="s2">"days_since_2011"</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">bike_day</span><span class="p">[</span><span class="n">selected_features</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">bike_day</span><span class="o">.</span><span class="n">cnt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Categorical-Features">
<a class="anchor" href="#Categorical-Features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Categorical Features<a class="anchor-link" href="#Categorical-Features"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Year</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span><span class="o">.</span><span class="n">yr</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">'yr'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'2011'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">yr</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">'yr'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'2012'</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-222-fa42af29cf76&gt;:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  bike_day.yr[bike_day.loc[:, 'yr'] == 0] = '2011'
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">bike_day</span><span class="o">.</span><span class="n">yr</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Season</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span><span class="o">.</span><span class="n">season</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">season</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'SPRING'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">season</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">season</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'SUMMER'</span> 
<span class="n">bike_day</span><span class="o">.</span><span class="n">season</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">season</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'FALL'</span> 
<span class="n">bike_day</span><span class="o">.</span><span class="n">season</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">season</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'WINTER'</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-224-6a2d6c4210e2&gt;:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  bike_day.season[bike_day.season == 1] = 'SPRING'
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">bike_day</span><span class="o">.</span><span class="n">season</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Weather</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'GOOD'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MISTY'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'RAIN/SNOW/STORM'</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-226-3f30ca62512e&gt;:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  bike_day.weathersit[bike_day.weathersit == 1] = 'GOOD'
&lt;ipython-input-226-3f30ca62512e&gt;:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  bike_day.weathersit[bike_day.weathersit == 2] = 'MISTY'
&lt;ipython-input-226-3f30ca62512e&gt;:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  bike_day.weathersit[bike_day.weathersit == 3] = 'RAIN/SNOW/STORM'
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">bike_day</span><span class="o">.</span><span class="n">weathersit</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Month</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'JAN'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'FEB'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MAR'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'APR'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MAY'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'JUN'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'JUL'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'AUG'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'SEP'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'OCT'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'NOV'</span>
<span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">[</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span> <span class="o">==</span> <span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'DEC'</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-228-c8d46e89c532&gt;:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  bike_day.mnth[bike_day.mnth == 1] = 'JAN'
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">bike_day</span><span class="o">.</span><span class="n">mnth</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Train-test-split">
<a class="anchor" href="#Train-test-split" aria-hidden="true"><span class="octicon octicon-link"></span></a>Train test split<a class="anchor-link" href="#Train-test-split"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">train_size</span> <span class="o">=</span> <span class="mf">0.7</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Training">
<a class="anchor" href="#Training" aria-hidden="true"><span class="octicon octicon-link"></span></a>Training<a class="anchor-link" href="#Training"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">Lasso</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">Ridge</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ridge</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rr</span> <span class="o">=</span> <span class="n">Ridge</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Ridge()</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lasso</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lr</span> <span class="o">=</span> <span class="n">Lasso</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Lasso(normalize=True)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Metrics">
<a class="anchor" href="#Metrics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Metrics<a class="anchor-link" href="#Metrics"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ridge</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_pred_r</span> <span class="o">=</span> <span class="n">rr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_r</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>650885.6073230483</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index(['temp', 'atemp', 'hum', 'windspeed', 'days_since_2011', '2011', '2012',
       'FALL', 'SPRING', 'SUMMER', 'WINTER', 'GOOD', 'MISTY',
       'RAIN/SNOW/STORM', 'APR', 'AUG', 'DEC', 'FEB', 'JAN', 'JUL', 'JUN',
       'MAR', 'MAY', 'NOV', 'OCT', 'SEP'],
      dtype='object')</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rr</span><span class="o">.</span><span class="n">coef_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([  88.56269292,   26.35233461,  -20.35055709,  -50.15770336,
          0.11737953, -931.02767102,  931.02767102,  129.9776705 ,
       -858.75619916,   52.74840848,  676.03012019,  633.50374363,
        356.83084875, -990.33459238,   77.61987747, -103.53517043,
       -229.15948447,  -66.61631165, -164.93492354, -531.25800384,
       -128.86883146,  332.58997771,  377.06743755, -389.4554859 ,
        245.35738634,  581.19353222])</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rr</span><span class="o">.</span><span class="n">intercept_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>3670.8640712920055</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lasso</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_pred_l</span> <span class="o">=</span> <span class="n">lr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_l</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>659705.342130416</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lr</span><span class="o">.</span><span class="n">coef_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([   75.4720349 ,    33.18166704,   -16.06025245,   -43.72312824,
           0.        , -1891.66068971,     0.        ,    -0.        ,
       -1045.36798995,     0.        ,   240.19341828,   283.91219444,
          -0.        , -1414.16952065,     0.        ,     0.        ,
          -0.        ,    -0.        ,  -116.21917705,  -301.81734998,
          -0.        ,   251.78401898,   273.0091002 ,   -13.95883721,
         504.19655444,   651.96621325])</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lr</span><span class="o">.</span><span class="n">intercept_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4739.781565530179</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Plot">
<a class="anchor" href="#Plot" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plot<a class="anchor-link" href="#Plot"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lr_pred_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'day'</span><span class="p">:</span> <span class="n">X_test</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">],</span>
                          <span class="s1">'y_test'</span><span class="p">:</span> <span class="n">y_test</span><span class="p">,</span>
                          <span class="s1">'y_pred'</span><span class="p">:</span> <span class="n">y_pred_l</span><span class="p">,</span>
                          <span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lr_pred_df</span> <span class="o">=</span> <span class="n">lr_pred_df</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="s1">'day'</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="s1">'data'</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">'value'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scales</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_interval</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="s1">'scales'</span><span class="p">)</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">lr_pred_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">point</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">'day:Q'</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">'value:Q'</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">'data:N'</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span> <span class="s1">'data:N'</span><span class="p">,</span> <span class="s1">'value:N'</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">scales</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-e69854f31c7841e8a9b9545123f25556"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-e69854f31c7841e8a9b9545123f25556") {
      outputDiv = document.getElementById("altair-viz-e69854f31c7841e8a9b9545123f25556");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-39683287b4913ad0a63e7da1863a0fea"}, "mark": {"type": "line", "point": true}, "encoding": {"color": {"type": "nominal", "field": "data"}, "tooltip": [{"type": "nominal", "field": "data"}, {"type": "nominal", "field": "value"}], "x": {"type": "quantitative", "field": "day"}, "y": {"type": "quantitative", "field": "value"}}, "selection": {"selector009": {"type": "interval", "bind": "scales"}}, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-39683287b4913ad0a63e7da1863a0fea": [{"day": 196.0, "data": "y_test", "value": 5923.0}, {"day": 187.0, "data": "y_test", "value": 4592.0}, {"day": 14.0, "data": "y_test", "value": 1248.0}, {"day": 31.0, "data": "y_test", "value": 1360.0}, {"day": 390.0, "data": "y_test", "value": 4075.0}, {"day": 319.0, "data": "y_test", "value": 1817.0}, {"day": 299.0, "data": "y_test", "value": 2659.0}, {"day": 702.0, "data": "y_test", "value": 6234.0}, {"day": 462.0, "data": "y_test", "value": 6857.0}, {"day": 27.0, "data": "y_test", "value": 1167.0}, {"day": 40.0, "data": "y_test", "value": 1538.0}, {"day": 360.0, "data": "y_test", "value": 1162.0}, {"day": 55.0, "data": "y_test", "value": 1461.0}, {"day": 157.0, "data": "y_test", "value": 4833.0}, {"day": 193.0, "data": "y_test", "value": 4342.0}, {"day": 170.0, "data": "y_test", "value": 4010.0}, {"day": 618.0, "data": "y_test", "value": 7525.0}, {"day": 679.0, "data": "y_test", "value": 6536.0}, {"day": 382.0, "data": "y_test", "value": 3376.0}, {"day": 79.0, "data": "y_test", "value": 2077.0}, {"day": 607.0, "data": "y_test", "value": 7713.0}, {"day": 728.0, "data": "y_test", "value": 1341.0}, {"day": 674.0, "data": "y_test", "value": 5259.0}, {"day": 162.0, "data": "y_test", "value": 4460.0}, {"day": 386.0, "data": "y_test", "value": 1977.0}, {"day": 596.0, "data": "y_test", "value": 4549.0}, {"day": 202.0, "data": "y_test", "value": 3387.0}, {"day": 242.0, "data": "y_test", "value": 5058.0}, {"day": 631.0, "data": "y_test", "value": 7907.0}, {"day": 518.0, "data": "y_test", "value": 8120.0}, {"day": 8.0, "data": "y_test", "value": 822.0}, {"day": 243.0, "data": "y_test", "value": 5115.0}, {"day": 647.0, "data": "y_test", "value": 6392.0}, {"day": 175.0, "data": "y_test", "value": 5202.0}, {"day": 356.0, "data": "y_test", "value": 2209.0}, {"day": 392.0, "data": "y_test", "value": 4023.0}, {"day": 572.0, "data": "y_test", "value": 6861.0}, {"day": 553.0, "data": "y_test", "value": 4840.0}, {"day": 75.0, "data": "y_test", "value": 2744.0}, {"day": 332.0, "data": "y_test", "value": 2914.0}, {"day": 476.0, "data": "y_test", "value": 6624.0}, {"day": 1.0, "data": "y_test", "value": 801.0}, {"day": 271.0, "data": "y_test", "value": 4839.0}, {"day": 419.0, "data": "y_test", "value": 3487.0}, {"day": 578.0, "data": "y_test", "value": 7580.0}, {"day": 632.0, "data": "y_test", "value": 7436.0}, {"day": 366.0, "data": "y_test", "value": 1951.0}, {"day": 247.0, "data": "y_test", "value": 3351.0}, {"day": 399.0, "data": "y_test", "value": 2832.0}, {"day": 85.0, "data": "y_test", "value": 1693.0}, {"day": 513.0, "data": "y_test", "value": 6043.0}, {"day": 569.0, "data": "y_test", "value": 6966.0}, {"day": 485.0, "data": "y_test", "value": 5572.0}, {"day": 529.0, "data": "y_test", "value": 7421.0}, {"day": 215.0, "data": "y_test", "value": 4576.0}, {"day": 330.0, "data": "y_test", "value": 3071.0}, {"day": 333.0, "data": "y_test", "value": 3613.0}, {"day": 655.0, "data": "y_test", "value": 7461.0}, {"day": 576.0, "data": "y_test", "value": 7105.0}, {"day": 369.0, "data": "y_test", "value": 3272.0}, {"day": 475.0, "data": "y_test", "value": 7290.0}, {"day": 413.0, "data": "y_test", "value": 4318.0}, {"day": 626.0, "data": "y_test", "value": 4073.0}, {"day": 623.0, "data": "y_test", "value": 8714.0}, {"day": 523.0, "data": "y_test", "value": 7494.0}, {"day": 249.0, "data": "y_test", "value": 1996.0}, {"day": 272.0, "data": "y_test", "value": 5202.0}, {"day": 432.0, "data": "y_test", "value": 5382.0}, {"day": 511.0, "data": "y_test", "value": 6536.0}, {"day": 669.0, "data": "y_test", "value": 5566.0}, {"day": 495.0, "data": "y_test", "value": 6572.0}, {"day": 557.0, "data": "y_test", "value": 7264.0}, {"day": 449.0, "data": "y_test", "value": 4996.0}, {"day": 575.0, "data": "y_test", "value": 6597.0}, {"day": 103.0, "data": "y_test", "value": 3267.0}, {"day": 703.0, "data": "y_test", "value": 6606.0}, {"day": 437.0, "data": "y_test", "value": 5847.0}, {"day": 590.0, "data": "y_test", "value": 6883.0}, {"day": 351.0, "data": "y_test", "value": 2431.0}, {"day": 729.0, "data": "y_test", "value": 1796.0}, {"day": 210.0, "data": "y_test", "value": 4475.0}, {"day": 673.0, "data": "y_test", "value": 5107.0}, {"day": 181.0, "data": "y_test", "value": 5362.0}, {"day": 50.0, "data": "y_test", "value": 1812.0}, {"day": 267.0, "data": "y_test", "value": 5010.0}, {"day": 531.0, "data": "y_test", "value": 7665.0}, {"day": 222.0, "data": "y_test", "value": 4792.0}, {"day": 487.0, "data": "y_test", "value": 6169.0}, {"day": 567.0, "data": "y_test", "value": 4459.0}, {"day": 142.0, "data": "y_test", "value": 4274.0}, {"day": 10.0, "data": "y_test", "value": 1263.0}, {"day": 68.0, "data": "y_test", "value": 623.0}, {"day": 573.0, "data": "y_test", "value": 6904.0}, {"day": 580.0, "data": "y_test", "value": 7175.0}, {"day": 499.0, "data": "y_test", "value": 2843.0}, {"day": 724.0, "data": "y_test", "value": 1013.0}, {"day": 301.0, "data": "y_test", "value": 627.0}, {"day": 579.0, "data": "y_test", "value": 7261.0}, {"day": 214.0, "data": "y_test", "value": 3574.0}, {"day": 404.0, "data": "y_test", "value": 3830.0}, {"day": 263.0, "data": "y_test", "value": 4352.0}, {"day": 482.0, "data": "y_test", "value": 6233.0}, {"day": 709.0, "data": "y_test", "value": 5170.0}, {"day": 648.0, "data": "y_test", "value": 7691.0}, {"day": 346.0, "data": "y_test", "value": 3523.0}, {"day": 211.0, "data": "y_test", "value": 4302.0}, {"day": 662.0, "data": "y_test", "value": 7693.0}, {"day": 636.0, "data": "y_test", "value": 7415.0}, {"day": 456.0, "data": "y_test", "value": 6041.0}, {"day": 354.0, "data": "y_test", "value": 2660.0}, {"day": 113.0, "data": "y_test", "value": 4191.0}, {"day": 236.0, "data": "y_test", "value": 3542.0}, {"day": 251.0, "data": "y_test", "value": 3544.0}, {"day": 49.0, "data": "y_test", "value": 1635.0}, {"day": 406.0, "data": "y_test", "value": 2169.0}, {"day": 156.0, "data": "y_test", "value": 4548.0}, {"day": 255.0, "data": "y_test", "value": 4763.0}, {"day": 122.0, "data": "y_test", "value": 4451.0}, {"day": 663.0, "data": "y_test", "value": 7359.0}, {"day": 457.0, "data": "y_test", "value": 5936.0}, {"day": 37.0, "data": "y_test", "value": 1712.0}, {"day": 172.0, "data": "y_test", "value": 4507.0}, {"day": 48.0, "data": "y_test", "value": 2927.0}, {"day": 365.0, "data": "y_test", "value": 2294.0}, {"day": 318.0, "data": "y_test", "value": 4195.0}, {"day": 268.0, "data": "y_test", "value": 4630.0}, {"day": 18.0, "data": "y_test", "value": 1650.0}, {"day": 521.0, "data": "y_test", "value": 7001.0}, {"day": 415.0, "data": "y_test", "value": 3129.0}, {"day": 76.0, "data": "y_test", "value": 3239.0}, {"day": 64.0, "data": "y_test", "value": 605.0}, {"day": 582.0, "data": "y_test", "value": 5464.0}, {"day": 52.0, "data": "y_test", "value": 1450.0}, {"day": 293.0, "data": "y_test", "value": 4304.0}, {"day": 389.0, "data": "y_test", "value": 4270.0}, {"day": 443.0, "data": "y_test", "value": 6153.0}, {"day": 470.0, "data": "y_test", "value": 7132.0}, {"day": 261.0, "data": "y_test", "value": 4539.0}, {"day": 279.0, "data": "y_test", "value": 4985.0}, {"day": 252.0, "data": "y_test", "value": 5345.0}, {"day": 483.0, "data": "y_test", "value": 4220.0}, {"day": 118.0, "data": "y_test", "value": 4595.0}, {"day": 566.0, "data": "y_test", "value": 5870.0}, {"day": 688.0, "data": "y_test", "value": 5499.0}, {"day": 266.0, "data": "y_test", "value": 5423.0}, {"day": 504.0, "data": "y_test", "value": 8294.0}, {"day": 239.0, "data": "y_test", "value": 4334.0}, {"day": 97.0, "data": "y_test", "value": 1471.0}, {"day": 503.0, "data": "y_test", "value": 7639.0}, {"day": 642.0, "data": "y_test", "value": 7328.0}, {"day": 498.0, "data": "y_test", "value": 6118.0}, {"day": 303.0, "data": "y_test", "value": 3669.0}, {"day": 570.0, "data": "y_test", "value": 7592.0}, {"day": 250.0, "data": "y_test", "value": 1842.0}, {"day": 17.0, "data": "y_test", "value": 683.0}, {"day": 595.0, "data": "y_test", "value": 7865.0}, {"day": 240.0, "data": "y_test", "value": 4634.0}, {"day": 547.0, "data": "y_test", "value": 5531.0}, {"day": 325.0, "data": "y_test", "value": 1607.0}, {"day": 285.0, "data": "y_test", "value": 2913.0}, {"day": 672.0, "data": "y_test", "value": 5138.0}, {"day": 652.0, "data": "y_test", "value": 6639.0}, {"day": 701.0, "data": "y_test", "value": 4649.0}, {"day": 493.0, "data": "y_test", "value": 5728.0}, {"day": 45.0, "data": "y_test", "value": 1815.0}, {"day": 548.0, "data": "y_test", "value": 6227.0}, {"day": 62.0, "data": "y_test", "value": 1944.0}, {"day": 530.0, "data": "y_test", "value": 7363.0}, {"day": 313.0, "data": "y_test", "value": 2933.0}, {"day": 588.0, "data": "y_test", "value": 6299.0}, {"day": 140.0, "data": "y_test", "value": 5805.0}, {"day": 294.0, "data": "y_test", "value": 4308.0}, {"day": 520.0, "data": "y_test", "value": 6998.0}, {"day": 127.0, "data": "y_test", "value": 4333.0}, {"day": 204.0, "data": "y_test", "value": 3606.0}, {"day": 352.0, "data": "y_test", "value": 3403.0}, {"day": 358.0, "data": "y_test", "value": 754.0}, {"day": 144.0, "data": "y_test", "value": 4978.0}, {"day": 310.0, "data": "y_test", "value": 4035.0}, {"day": 21.0, "data": "y_test", "value": 981.0}, {"day": 650.0, "data": "y_test", "value": 7282.0}, {"day": 424.0, "data": "y_test", "value": 1834.0}, {"day": 35.0, "data": "y_test", "value": 1005.0}, {"day": 452.0, "data": "y_test", "value": 5698.0}, {"day": 337.0, "data": "y_test", "value": 3485.0}, {"day": 509.0, "data": "y_test", "value": 6770.0}, {"day": 77.0, "data": "y_test", "value": 3117.0}, {"day": 451.0, "data": "y_test", "value": 5102.0}, {"day": 231.0, "data": "y_test", "value": 5191.0}, {"day": 331.0, "data": "y_test", "value": 3867.0}, {"day": 109.0, "data": "y_test", "value": 3944.0}, {"day": 412.0, "data": "y_test", "value": 4154.0}, {"day": 101.0, "data": "y_test", "value": 2034.0}, {"day": 489.0, "data": "y_test", "value": 6296.0}, {"day": 641.0, "data": "y_test", "value": 7572.0}, {"day": 230.0, "data": "y_test", "value": 4153.0}, {"day": 708.0, "data": "y_test", "value": 3228.0}, {"day": 278.0, "data": "y_test", "value": 4765.0}, {"day": 468.0, "data": "y_test", "value": 6398.0}, {"day": 317.0, "data": "y_test", "value": 4486.0}, {"day": 344.0, "data": "y_test", "value": 2743.0}, {"day": 720.0, "data": "y_test", "value": 3623.0}, {"day": 258.0, "data": "y_test", "value": 4760.0}, {"day": 505.0, "data": "y_test", "value": 7129.0}, {"day": 165.0, "data": "y_test", "value": 5180.0}, {"day": 188.0, "data": "y_test", "value": 4040.0}, {"day": 316.0, "data": "y_test", "value": 3717.0}, {"day": 34.0, "data": "y_test", "value": 1708.0}, {"day": 532.0, "data": "y_test", "value": 7702.0}, {"day": 593.0, "data": "y_test", "value": 7605.0}, {"day": 727.0, "data": "y_test", "value": 3095.0}, {"day": 334.0, "data": "y_test", "value": 3727.0}, {"day": 439.0, "data": "y_test", "value": 6192.0}, {"day": 645.0, "data": "y_test", "value": 3510.0}, {"day": 155.0, "data": "y_test", "value": 4906.0}, {"day": 391.0, "data": "y_test", "value": 3456.0}, {"day": 571.0, "data": "y_test", "value": 8173.0}, {"day": 306.0, "data": "y_test", "value": 3974.0}, {"day": 200.0, "data": "y_test", "value": 4332.0}, {"day": 235.0, "data": "y_test", "value": 5130.0}, {"day": 196.0, "data": "y_pred", "value": 4363.302712644344}, {"day": 187.0, "data": "y_pred", "value": 4680.3548722383675}, {"day": 14.0, "data": "y_pred", "value": 1457.5040048375677}, {"day": 31.0, "data": "y_pred", "value": 1187.9642759299845}, {"day": 390.0, "data": "y_pred", "value": 3667.989352595884}, {"day": 319.0, "data": "y_pred", "value": 1822.684139639603}, {"day": 299.0, "data": "y_pred", "value": 3817.5451680018696}, {"day": 702.0, "data": "y_pred", "value": 5835.386702592262}, {"day": 462.0, "data": "y_pred", "value": 5770.047314040788}, {"day": 27.0, "data": "y_pred", "value": 952.5311606596265}, {"day": 40.0, "data": "y_pred", "value": 1341.9328095695496}, {"day": 360.0, "data": "y_pred", "value": 1475.6974976913057}, {"day": 55.0, "data": "y_pred", "value": 1258.7372453683856}, {"day": 157.0, "data": "y_pred", "value": 4798.380931836016}, {"day": 193.0, "data": "y_pred", "value": 4741.119684218104}, {"day": 170.0, "data": "y_pred", "value": 4045.4171100390076}, {"day": 618.0, "data": "y_pred", "value": 6743.216549833389}, {"day": 679.0, "data": "y_pred", "value": 5795.924514566764}, {"day": 382.0, "data": "y_pred", "value": 3246.7682874973966}, {"day": 79.0, "data": "y_pred", "value": 2985.877808256046}, {"day": 607.0, "data": "y_pred", "value": 7019.819140654972}, {"day": 728.0, "data": "y_pred", "value": 3220.055738156575}, {"day": 674.0, "data": "y_pred", "value": 5170.819512281791}, {"day": 162.0, "data": "y_pred", "value": 4561.03891751591}, {"day": 386.0, "data": "y_pred", "value": 2401.1620659857062}, {"day": 596.0, "data": "y_pred", "value": 6207.039108723828}, {"day": 202.0, "data": "y_pred", "value": 5393.145911371182}, {"day": 242.0, "data": "y_pred", "value": 4873.545179143668}, {"day": 631.0, "data": "y_pred", "value": 6901.315331028967}, {"day": 518.0, "data": "y_pred", "value": 6230.387469593403}, {"day": 8.0, "data": "y_pred", "value": 761.7376112892794}, {"day": 243.0, "data": "y_pred", "value": 5286.373231289765}, {"day": 647.0, "data": "y_pred", "value": 5709.249754021709}, {"day": 175.0, "data": "y_pred", "value": 4860.055527795895}, {"day": 356.0, "data": "y_pred", "value": 1858.4536361413893}, {"day": 392.0, "data": "y_pred", "value": 3787.5490028545946}, {"day": 572.0, "data": "y_pred", "value": 6445.400518302892}, {"day": 553.0, "data": "y_pred", "value": 7344.162769038459}, {"day": 75.0, "data": "y_pred", "value": 2618.3386163146515}, {"day": 332.0, "data": "y_pred", "value": 3046.1025587944946}, {"day": 476.0, "data": "y_pred", "value": 5657.695015809728}, {"day": 1.0, "data": "y_pred", "value": 1456.0523681230852}, {"day": 271.0, "data": "y_pred", "value": 5157.57457682693}, {"day": 419.0, "data": "y_pred", "value": 3650.2858463313764}, {"day": 578.0, "data": "y_pred", "value": 6747.112306669298}, {"day": 632.0, "data": "y_pred", "value": 7024.950546514002}, {"day": 366.0, "data": "y_pred", "value": 3464.293834399362}, {"day": 247.0, "data": "y_pred", "value": 4628.981991721398}, {"day": 399.0, "data": "y_pred", "value": 3257.1571771479803}, {"day": 85.0, "data": "y_pred", "value": 2873.91809944388}, {"day": 513.0, "data": "y_pred", "value": 6855.800505629356}, {"day": 569.0, "data": "y_pred", "value": 6537.183839704497}, {"day": 485.0, "data": "y_pred", "value": 5411.521170961287}, {"day": 529.0, "data": "y_pred", "value": 6026.174982162496}, {"day": 215.0, "data": "y_pred", "value": 4249.6462822706635}, {"day": 330.0, "data": "y_pred", "value": 3694.710926857399}, {"day": 333.0, "data": "y_pred", "value": 3009.973678281185}, {"day": 655.0, "data": "y_pred", "value": 6410.136317857534}, {"day": 576.0, "data": "y_pred", "value": 6490.150845213053}, {"day": 369.0, "data": "y_pred", "value": 3823.678113840175}, {"day": 475.0, "data": "y_pred", "value": 5846.337727500992}, {"day": 413.0, "data": "y_pred", "value": 4118.259889548142}, {"day": 626.0, "data": "y_pred", "value": 5718.661333317117}, {"day": 623.0, "data": "y_pred", "value": 6890.831776483767}, {"day": 523.0, "data": "y_pred", "value": 6358.7361792143565}, {"day": 249.0, "data": "y_pred", "value": 2995.3150139961726}, {"day": 272.0, "data": "y_pred", "value": 4922.432097949355}, {"day": 432.0, "data": "y_pred", "value": 4415.270729763921}, {"day": 511.0, "data": "y_pred", "value": 6645.983423692676}, {"day": 669.0, "data": "y_pred", "value": 5527.878790060097}, {"day": 495.0, "data": "y_pred", "value": 5766.243957090706}, {"day": 557.0, "data": "y_pred", "value": 6463.13531095325}, {"day": 449.0, "data": "y_pred", "value": 4902.764186627019}, {"day": 575.0, "data": "y_pred", "value": 6461.515317845333}, {"day": 103.0, "data": "y_pred", "value": 4047.314069023004}, {"day": 703.0, "data": "y_pred", "value": 5719.538189337206}, {"day": 437.0, "data": "y_pred", "value": 5088.066236122812}, {"day": 590.0, "data": "y_pred", "value": 6979.912479991618}, {"day": 351.0, "data": "y_pred", "value": 2982.933455939573}, {"day": 729.0, "data": "y_pred", "value": 3270.580682134969}, {"day": 210.0, "data": "y_pred", "value": 5189.933998294378}, {"day": 673.0, "data": "y_pred", "value": 5324.059946921905}, {"day": 181.0, "data": "y_pred", "value": 5118.969231491742}, {"day": 50.0, "data": "y_pred", "value": 2029.455827871433}, {"day": 267.0, "data": "y_pred", "value": 5058.280027272507}, {"day": 531.0, "data": "y_pred", "value": 6430.420853292601}, {"day": 222.0, "data": "y_pred", "value": 5175.985186538186}, {"day": 487.0, "data": "y_pred", "value": 6147.310685993298}, {"day": 567.0, "data": "y_pred", "value": 3670.120096885921}, {"day": 142.0, "data": "y_pred", "value": 3968.949862721825}, {"day": 10.0, "data": "y_pred", "value": 969.3690404807021}, {"day": 68.0, "data": "y_pred", "value": 1615.621958347223}, {"day": 573.0, "data": "y_pred", "value": 6846.953598298699}, {"day": 580.0, "data": "y_pred", "value": 6534.962465044615}, {"day": 499.0, "data": "y_pred", "value": 5702.863276452236}, {"day": 724.0, "data": "y_pred", "value": 3312.70752143368}, {"day": 301.0, "data": "y_pred", "value": 817.5344743812275}, {"day": 579.0, "data": "y_pred", "value": 6979.558568125485}, {"day": 214.0, "data": "y_pred", "value": 4684.553849575845}, {"day": 404.0, "data": "y_pred", "value": 3669.888011904841}, {"day": 263.0, "data": "y_pred", "value": 4431.057465748484}, {"day": 482.0, "data": "y_pred", "value": 5422.194824489107}, {"day": 709.0, "data": "y_pred", "value": 4901.4204492296285}, {"day": 648.0, "data": "y_pred", "value": 6523.347121051132}, {"day": 346.0, "data": "y_pred", "value": 3281.88465971269}, {"day": 211.0, "data": "y_pred", "value": 5184.082875621746}, {"day": 662.0, "data": "y_pred", "value": 7174.485132635075}, {"day": 636.0, "data": "y_pred", "value": 6827.217332357966}, {"day": 456.0, "data": "y_pred", "value": 5057.472059144299}, {"day": 354.0, "data": "y_pred", "value": 1705.0541379043739}, {"day": 113.0, "data": "y_pred", "value": 3595.833005649417}, {"day": 236.0, "data": "y_pred", "value": 4073.8147199634705}, {"day": 251.0, "data": "y_pred", "value": 4579.602144086398}, {"day": 49.0, "data": "y_pred", "value": 2082.9010649234415}, {"day": 406.0, "data": "y_pred", "value": 1217.0829094482087}, {"day": 156.0, "data": "y_pred", "value": 4846.198899854777}, {"day": 255.0, "data": "y_pred", "value": 5140.970039545112}, {"day": 122.0, "data": "y_pred", "value": 3769.0220510148456}, {"day": 663.0, "data": "y_pred", "value": 6309.995481526062}, {"day": 457.0, "data": "y_pred", "value": 5247.91322652202}, {"day": 37.0, "data": "y_pred", "value": 2001.2258663287494}, {"day": 172.0, "data": "y_pred", "value": 4802.297741893546}, {"day": 48.0, "data": "y_pred", "value": 2835.9877677127874}, {"day": 365.0, "data": "y_pred", "value": 3850.346504095695}, {"day": 318.0, "data": "y_pred", "value": 3763.168332727835}, {"day": 268.0, "data": "y_pred", "value": 4947.935925194005}, {"day": 18.0, "data": "y_pred", "value": 1185.2265508831651}, {"day": 521.0, "data": "y_pred", "value": 5579.6784209773805}, {"day": 415.0, "data": "y_pred", "value": 3720.433016474145}, {"day": 76.0, "data": "y_pred", "value": 3255.3545847527735}, {"day": 64.0, "data": "y_pred", "value": 1201.8846284036654}, {"day": 582.0, "data": "y_pred", "value": 6605.283417230826}, {"day": 52.0, "data": "y_pred", "value": 1368.8792893281666}, {"day": 293.0, "data": "y_pred", "value": 4227.171307762385}, {"day": 389.0, "data": "y_pred", "value": 3659.583994939946}, {"day": 443.0, "data": "y_pred", "value": 5045.682216391661}, {"day": 470.0, "data": "y_pred", "value": 6274.985434707754}, {"day": 261.0, "data": "y_pred", "value": 4420.103802855537}, {"day": 279.0, "data": "y_pred", "value": 5020.2449184227}, {"day": 252.0, "data": "y_pred", "value": 5077.632328780847}, {"day": 483.0, "data": "y_pred", "value": 5261.873073627426}, {"day": 118.0, "data": "y_pred", "value": 3992.115001352756}, {"day": 566.0, "data": "y_pred", "value": 5450.616568662577}, {"day": 688.0, "data": "y_pred", "value": 4978.093280352204}, {"day": 266.0, "data": "y_pred", "value": 4841.311127865842}, {"day": 504.0, "data": "y_pred", "value": 7012.967475394241}, {"day": 239.0, "data": "y_pred", "value": 4503.553273457984}, {"day": 97.0, "data": "y_pred", "value": 2324.582672447667}, {"day": 503.0, "data": "y_pred", "value": 6605.515680260132}, {"day": 642.0, "data": "y_pred", "value": 6924.111673289653}, {"day": 498.0, "data": "y_pred", "value": 6471.795370708645}, {"day": 303.0, "data": "y_pred", "value": 3970.1810095859255}, {"day": 570.0, "data": "y_pred", "value": 6437.960885133183}, {"day": 250.0, "data": "y_pred", "value": 2814.5897224839036}, {"day": 17.0, "data": "y_pred", "value": 830.5059274389841}, {"day": 595.0, "data": "y_pred", "value": 6564.270079212089}, {"day": 240.0, "data": "y_pred", "value": 4644.549962074221}, {"day": 547.0, "data": "y_pred", "value": 7062.937232613198}, {"day": 325.0, "data": "y_pred", "value": 1647.2646478986849}, {"day": 285.0, "data": "y_pred", "value": 4376.6306611228765}, {"day": 672.0, "data": "y_pred", "value": 4894.906962217331}, {"day": 652.0, "data": "y_pred", "value": 6274.302039823266}, {"day": 701.0, "data": "y_pred", "value": 4858.346882313318}, {"day": 493.0, "data": "y_pred", "value": 5663.460525681305}, {"day": 45.0, "data": "y_pred", "value": 1886.1051871052578}, {"day": 548.0, "data": "y_pred", "value": 6923.6962430097665}, {"day": 62.0, "data": "y_pred", "value": 1622.2628398838083}, {"day": 530.0, "data": "y_pred", "value": 6296.933290442059}, {"day": 313.0, "data": "y_pred", "value": 2910.944134061553}, {"day": 588.0, "data": "y_pred", "value": 6061.462932908792}, {"day": 140.0, "data": "y_pred", "value": 4754.759653090449}, {"day": 294.0, "data": "y_pred", "value": 4500.349009490766}, {"day": 520.0, "data": "y_pred", "value": 6106.001458234617}, {"day": 127.0, "data": "y_pred", "value": 4558.595961420051}, {"day": 204.0, "data": "y_pred", "value": 5217.988116531365}, {"day": 352.0, "data": "y_pred", "value": 3067.3569404285786}, {"day": 358.0, "data": "y_pred", "value": 1755.8245668923591}, {"day": 144.0, "data": "y_pred", "value": 4800.6971461770245}, {"day": 310.0, "data": "y_pred", "value": 3752.580279036275}, {"day": 21.0, "data": "y_pred", "value": 1050.3397370192097}, {"day": 650.0, "data": "y_pred", "value": 6181.08246986553}, {"day": 424.0, "data": "y_pred", "value": 3418.92994026664}, {"day": 35.0, "data": "y_pred", "value": 867.6326442729592}, {"day": 452.0, "data": "y_pred", "value": 5824.018068448442}, {"day": 337.0, "data": "y_pred", "value": 3374.770436358135}, {"day": 509.0, "data": "y_pred", "value": 6574.229228689697}, {"day": 77.0, "data": "y_pred", "value": 2780.468891157405}, {"day": 451.0, "data": "y_pred", "value": 5691.526979575096}, {"day": 231.0, "data": "y_pred", "value": 4876.747568369128}, {"day": 331.0, "data": "y_pred", "value": 4014.5871362185576}, {"day": 109.0, "data": "y_pred", "value": 4111.398013074833}, {"day": 412.0, "data": "y_pred", "value": 3897.8498899094707}, {"day": 101.0, "data": "y_pred", "value": 3121.599041496158}, {"day": 489.0, "data": "y_pred", "value": 6457.934096752523}, {"day": 641.0, "data": "y_pred", "value": 6949.7792640302105}, {"day": 230.0, "data": "y_pred", "value": 4350.33988238032}, {"day": 708.0, "data": "y_pred", "value": 4793.06830360422}, {"day": 278.0, "data": "y_pred", "value": 4706.045392948388}, {"day": 468.0, "data": "y_pred", "value": 5896.371951052534}, {"day": 317.0, "data": "y_pred", "value": 3916.233812360798}, {"day": 344.0, "data": "y_pred", "value": 3386.4120417807717}, {"day": 720.0, "data": "y_pred", "value": 3129.981571022603}, {"day": 258.0, "data": "y_pred", "value": 4182.874831660785}, {"day": 505.0, "data": "y_pred", "value": 6487.842710554773}, {"day": 165.0, "data": "y_pred", "value": 4695.759154376861}, {"day": 188.0, "data": "y_pred", "value": 3868.666310175461}, {"day": 316.0, "data": "y_pred", "value": 3773.4691644172844}, {"day": 34.0, "data": "y_pred", "value": 1422.9331344391321}, {"day": 532.0, "data": "y_pred", "value": 6564.452457211121}, {"day": 593.0, "data": "y_pred", "value": 6991.267200108283}, {"day": 727.0, "data": "y_pred", "value": 3404.9007463098897}, {"day": 334.0, "data": "y_pred", "value": 3265.1359874251607}, {"day": 439.0, "data": "y_pred", "value": 5366.017293509364}, {"day": 645.0, "data": "y_pred", "value": 5808.834371400495}, {"day": 155.0, "data": "y_pred", "value": 4316.649970566851}, {"day": 391.0, "data": "y_pred", "value": 3287.2121866738566}, {"day": 571.0, "data": "y_pred", "value": 6750.1654039979185}, {"day": 306.0, "data": "y_pred", "value": 3663.420077999189}, {"day": 200.0, "data": "y_pred", "value": 4856.330338997863}, {"day": 235.0, "data": "y_pred", "value": 4446.020218308816}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="wuhanstudio/notebooks"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/notebooks/jupyter/2020/05/27/iml-lr.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/notebooks/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/notebooks/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/notebooks/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/notebooks/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/notebooks/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
